(this.webpackJsonpproject_2=this.webpackJsonpproject_2||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(25),s=n.n(a),i=(n(32),n(33),n(2)),o=n(9),u=n(0);function j(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)(o.b,{to:"/posts",children:"Posts"})})}var l=n(11),b=n(4),d=n.n(b),O=n(7),f=n(3),p=n(26),h=n(27),v=n(16),x=n.n(v),m=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,null,[{key:"getAll",value:function(){var e=Object(O.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getByID",value:function(){var e=Object(O.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(f.a)(s,2),o=i[0],u=i[1];return[function(){var t=Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),r,o]},y=function(e,t){return Math.ceil(e/t)},C=n(8);function P(e){return Object(u.jsx)("button",{onClick:e.onClick,className:"myButton",style:{backgroundColor:e.bgColor},children:e.name})}function w(e){var t=e.placeholder,n=e.value,c=e.onChange;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{className:"myInput",type:"text",placeholder:t,value:n,onChange:c})})}function N(e){var t=e.createPost,n=Object(c.useState)({id:6,title:"",body:""}),r=Object(f.a)(n,2),a=r[0],s=r[1];return Object(u.jsxs)("form",{className:"addPostForm",action:"",children:[Object(u.jsx)("div",{children:"Add new post"}),Object(u.jsx)(w,{placeholder:"Name",value:a.title,onChange:function(e){return s(Object(C.a)(Object(C.a)({},a),{},{title:e.target.value}))}}),Object(u.jsx)(w,{placeholder:"Content",value:a.body,onChange:function(e){return s(Object(C.a)(Object(C.a)({},a),{},{body:e.target.value}))}}),Object(u.jsx)(P,{name:"Add post",onClick:function(e){if(e.preventDefault(),a.title.trim().length>6&&a.title.trim().length<40){var n=Object(C.a)(Object(C.a)({},a),{},{id:Date.now()});t(n),s({title:"",body:""})}else console.log("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043c\u0435\u043d\u0448\u0438\u043c \u0437\u0430 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432 \u0456 \u0431\u0456\u043b\u044c\u0448\u0438\u043c \u0437\u0430 40")}})]})}function k(e){var t=e.sortedNews,n=e.removePost,c=Object(i.f)();return Object(u.jsx)("div",{children:0!==t.length?t.map((function(e,t){return Object(u.jsxs)("div",{className:"post",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h5",{children:e.id+". "+e.title}),Object(u.jsx)("div",{className:"post__text",children:e.body})]}),Object(u.jsxs)("div",{className:"removePost",children:[Object(u.jsx)(P,{name:"Edit post",onClick:function(){return c("/posts/".concat(e.id))},bgColor:"rgb(211, 248, 204)"}),Object(u.jsx)(P,{name:"Remove post",onClick:function(){return n(e)},bgColor:"rgb(251, 218, 218)"})]})]},t)})):Object(u.jsx)("div",{children:"\u041f\u043e\u0441\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})}function A(){return Object(u.jsx)("div",{className:"spiner",children:Object(u.jsx)("img",{src:"https://thumbs.gfycat.com/ArtisticShoddyKudu-size_restricted.gif",alt:""})})}function S(e){var t=e.getPagesArr;return Object(u.jsx)("div",{className:"pagesArr",children:t()})}function F(e){var t=e.sortedNews,n=e.removePost,c=e.numberPage,r=e.totalPages,a=e.setNumberPage,s=e.isLoading,i=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(r);return Object(u.jsx)(u.Fragment,{children:s?Object(u.jsx)(A,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{sortedNews:t,removePost:n}),Object(u.jsx)(S,{getPagesArr:function(){return i.map((function(e){return Object(u.jsx)("span",{className:"pageArr",onClick:function(){return a(e)},children:e===c?Object(u.jsx)("b",{children:e}):e},e)}))}})]})})}function I(e){var t=e.setIsActive,n=e.setNews,c=e.setNumberPage;return Object(u.jsxs)("span",{className:"displayPosts",children:[Object(u.jsx)("span",{children:"\u0412\u0438\u0433\u043b\u044f\u0434 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438:"}),Object(u.jsx)("input",{type:"radio",id:"displayChoice1",value:"displayPosts1",name:"displayPosts",defaultChecked:!0,onChange:function(){t(!1),console.log("setIsActive - false"),c(1)}}),Object(u.jsx)("label",{htmlFor:"displayChoice1",children:"\u041f\u043e\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u043e\u0432\u043e"}),Object(u.jsx)("input",{type:"radio",id:"displayChoice2",value:"displayPosts2",name:"displayPosts",onChange:function(){t(!0),n([]),c(1),console.log("setIsActive - true")}}),Object(u.jsx)("label",{htmlFor:"displayChoice2",children:"\u041d\u0435\u0441\u043a\u0456\u043d\u0447\u0435\u043d\u043d\u0438\u0439 \u0441\u043a\u0440\u043e\u043b"})]})}function L(e){var t=e.options,n=e.defaultValue,c=e.value,r=e.onChange,a=e.disabled;return Object(u.jsxs)("select",{className:"mySelect",disabled:a,value:c,onChange:function(e){return r(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"d",children:n}),t.map((function(e){return Object(u.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}function _(e){var t=e.limit,n=e.isActive,r=e.setLimit,a=Object(c.useState)([{name:"10 \u043f\u043e\u0441\u0442\u0456\u0432",value:10},{name:"6 \u043f\u043e\u0441\u0442\u0456\u0432",value:6},{name:"20 \u043f\u043e\u0441\u0442\u0456\u0432",value:20},{name:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0456",value:-1}]),s=Object(f.a)(a,1)[0];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L,{value:t,onChange:function(e){return r(e)},defaultValue:"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438",options:s,disabled:n})})}function E(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(0),b=Object(f.a)(j,2),p=b[0],h=b[1],v=Object(c.useState)(10),x=Object(f.a)(v,2),C=x[0],P=x[1],S=Object(c.useState)(1),L=Object(f.a)(S,2),E=L[0],B=L[1],D=Object(c.useState)(!1),M=Object(f.a)(D,2),R=M[0],T=M[1],J=Object(c.useRef)(),V=g(Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getAll();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})))),z=Object(f.a)(V,1)[0];Object(c.useEffect)((function(){z()}),[]);var K=g(Object(O.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getAll(C,E);case 2:t=e.sent,Q(R,[].concat(Object(l.a)(n),Object(l.a)(t.data)),t.data),c=t.headers["x-total-count"],h(y(c,C));case 6:case"end":return e.stop()}}),e)})))),$=Object(f.a)(K,3),q=$[0],G=$[1],H=$[2];function Q(e,t,n){r(e?t:n)}Object(c.useEffect)((function(){q()}),[E,C,R]);var U=Object(c.useState)(""),W=Object(f.a)(U,2),X=W[0],Y=W[1];var Z=Object(c.useMemo)((function(){return function(e,t,n){return""===e?t:n}(X,Object(l.a)(n),Object(l.a)(i)).filter((function(e){return e.title.toLowerCase().includes(X.toLowerCase().trim())}))}),[n,X]),ee=function(e){r(n.filter((function(t){return t.id!==e.id})))};return function(e,t,n,r,a){var s=Object(c.useRef)();Object(c.useEffect)((function(){if(e){if(r)return;s.current&&s.current.disconnect(),s.current=new IntersectionObserver((function(e,t){e[0].isIntersecting&&n&&a()})),s.current.observe(t.current)}}),[r])}(R,J,E<p,G,(function(){B(E+1)})),Object(u.jsxs)("div",{children:[Object(u.jsx)(N,{createPost:function(e){r([].concat(Object(l.a)(n),[e]))}}),Object(u.jsx)(w,{placeholder:"Search",value:X,onChange:function(e){return Y(e.currentTarget.value)}}),Object(u.jsx)(_,{isActive:R,limit:C,setLimit:P}),Object(u.jsx)(I,{setIsActive:T,setNews:r,setNumberPage:B}),H&&Object(u.jsxs)("div",{children:["\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a $",H]}),R?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{sortedNews:Z,removePost:ee}),Object(u.jsx)("div",{className:"lustEl",ref:J}),E<p?Object(u.jsx)(A,{}):Object(u.jsx)("h2",{children:"\u041f\u043e\u0441\u0442\u0438 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0456"})]}):Object(u.jsx)(F,{isLoading:G,sortedNews:Z,removePost:ee,numberPage:E,totalPages:p,setNumberPage:B})]})}function B(){var e=Object(i.g)(),t=Object(c.useState)({}),n=Object(f.a)(t,2),r=n[0],a=n[1],s=g(function(){var t=Object(O.a)(d.a.mark((function t(n){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getByID(e.id);case 2:c=t.sent,a(c.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o=Object(f.a)(s,3),j=o[0],l=o[1];o[2];return Object(c.useEffect)((function(){j(e.id)}),[]),Object(u.jsx)(u.Fragment,{children:l?Object(u.jsx)(A,{}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:[r.id+". ",r.title]}),Object(u.jsx)("div",{children:r.body})]})})}var D=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/react_pr2",element:Object(u.jsx)(E,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/posts",element:Object(u.jsx)(E,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/posts/:id",element:Object(u.jsx)(B,{})})]})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(D,{})})}),document.getElementById("root")),M()}},[[54,1,2]]]);
//# sourceMappingURL=main.8fda48a2.chunk.js.map